<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>CircularDivs</title>
    <style>
        .circle {
            position: absolute;
            border: 50px solid purple;
            border-radius: 100%;
            font-size: 100px; /* radius */
        }
    </style>
</head>
<body>

    <!--Write a script that creates 5 div elements and moves 
    them in circular path with interval of 100 milliseconds-->
    <script>
        //used for smoother alternative
        //window.requestAnimationFrame = function () {
        //    'use strict';
        //    return window.requestAnimationFrame ||
        //        window.webkitRequestAnimationFrame ||
        //        window.mozRequestAnimationFrame ||
        //        function (a) { window.setTimeout(a, 1E3 / 60); };
        //}();
        var numberOfCircles = 5;
        var allCircles = [];

        for (var i = 0; i < numberOfCircles; i++) {
            var circle = document.createElement('div');
            circle.className = 'circle';
            allCircles.push(circle);
            document.body.appendChild(circle);

        }
        var angle = 0;
        //inputs radians returns degrees
        var deg2rad = function (a) { 'use strict'; return a * Math.PI / 180.0; };

        !function loop() {
            'use strict';
            var centerOfCircles = 350;

            for (var i = 0; i < numberOfCircles; i++) {

                var a = angle + (i * 360 / numberOfCircles);
                allCircles[i].style.left = (Math.cos(deg2rad(a))) + 'em';
                allCircles[i].style.top = (Math.sin(deg2rad(a))) + 'em';
                allCircles[i].style.marginLeft = centerOfCircles + 'px';
                allCircles[i].style.marginTop = centerOfCircles + 'px';

            }
            var speed = 5;
            angle = (angle + speed) % 360;
            setTimeout(loop, 100);
            //smoother alternative:
            //window.requestAnimationFrame(loop);
        }();
    </script>
</body>
</html>
